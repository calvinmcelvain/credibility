{{ load static }}
{{ block content }}
<!--External CSS & js-->
<link rel="stylesheet" href="{{ static 'Style_Crd2.css' }}" type="text/css">
<script src="{{ static 'JavaScript_Crd2.js' }}"></script>

{{ block title }}
Stage 2: Using a Slider
{{ endblock }}

<!-- General Information Body -->
<p>Investors who choose to not invest will receive their outside option. In Stage 2, the outside option for each Investor will be randomly drawn from the numbers between 1 and 300. All numbers are equally likely to be drawn. Each Investor will use a slider similar to the one you see below to select the <span style="color: red">minimum</span> outside option for which you will choose not to invest. Any price drawn at random below the minimum selected outside option will result in a Investor choosing to Invest.  If a price is drawn at or above the minimum selected outside option, the Investor will choose to <span style="color: red">not</span> Invest and receive the outside option. </p>
<p>As a Investor, your best choice is to set the slider <span style="color: red">equal</span> to the value you believe should be assigned to Invest. If the randomly drawn outside option is higher than your value of choosing Invest, you would be better off with the outside option. If the outside option is lower than your value of choosing Invest, you would be better of choosing Invest. Setting the minimum outside option equal to your individual value of choosing Invest ensures that you only choose Invest when it is to your benefit to do so. Please look at the over screen for examples illustrating why this is true.</p>
<p style="margin-top: 100px; margin-bottom: unset">Please click "Continue"</p>
<p style="font-size: 16px; margin-top: unset; margin-bottom: 10px" >*** Page will not continue until everyone has clicked continue ***</p>

<!--Next Button: Only allows players to continue if all players in session are ready/clicked continue-->
<button type="button" id="validation" class="Instructions" onclick="validating()">Continue</button>

<script>
// Checking if button has been clicked
window.onload = function () {
    const IsClicked = sessionStorage.getItem('IsClicked');

    if (IsClicked === 'true') {
        document.getElementById('validation').disabled = true;
    }
}

// Websocket to check if all players are ready
function liveRecv(data) {
    if (data === 'all_ready') {
        sessionStorage.setItem('IsClicked', 'false')
        document.forms[0].submit();
    }
}
</script>
{{ endblock }}