{{ load static }}
{{ block content }}
<!--External CSS & js-->
<link rel="stylesheet" href="{{ static 'Style_Crd2.css' }}" type="text/css">
<script src="{{ static 'JavaScript_Crd2.js' }}"></script>

{{ block title }}
Stage 2: Decision 1
{{ endblock }}

<!-- General Information Body -->
<p><span style="color: red; font-weight: bold">Decision 1 involves different payoff tables than Stage 1 for both Player As and Player Bs. </span></p>
<p style="margin-bottom: 50px">In Decision 1, Player A will receive 60 for each Player B who chooses to invest. This is shown in the payoff table below. Player A’s payoffs does not depend on the quality of the investment.</p>

<!-- Player A's Payoff Table -->
<p class="payofftableheader">Player A's Payoff Table</p>
<table class="playerpayofftable" style="display: flex; margin-left: 150px">
    <tr>
        <td style="width: 75px;"></td>
        <td class="header" colspan="6">Total Investors</td>
    </tr>
    <tr>
        <td  style="font-style: italic; width: 75px;">Quality</td>
        <td class="row1">0</td>
        <td class="row1">1</td>
        <td class="row1">2</td>
        <td class="row1">3</td>
        <td class="row1">4</td>
        <td class="row1">5</td>
    </tr>
    <tr>
        <td class="column1">Low</td>
        <td>0</td>
        <td>60</td>
        <td>120</td>
        <td>180</td>
        <td>240</td>
        <td>300</td>
    </tr>
    <tr>
        <td class="column1">High</td>
        <td>0</td>
        <td>60</td>
        <td>120</td>
        <td>180</td>
        <td>240</td>
        <td>300</td>
    </tr>
</table>

<!-- General Information Body Cont. -->
<p style="margin-top: 100px">Player Bs’ payoffs are determined by the table shown below. Player Bs who invest will receive earnings of 300 if the Quality is High, <span style="color: red">regardless of the number of other Player Bs who invest. </span></p>
<p style="margin-bottom: 50px">As before, you will receive a recommendation from Player A but will <span style="color: red">not</span> know the quality level of the investment opportunity when you decide to invest.</p>
<p style="margin-bottom: unset">Please click "Continue"</p>
<p style="font-size: 16px; margin-top: unset; margin-bottom: 10px" >*** Page will not continue until everyone has clicked continue ***</p>

<!--Next Button: Only allows players to continue if all players in session are ready/clicked continue-->
<button type="button" id="validation" class="Instructions" onclick="validating()">Continue</button>

<script>
// Checking if button has been clicked
window.onload = function () {
    const IsClicked = sessionStorage.getItem('IsClicked');

    if (IsClicked === 'true') {
        document.getElementById('validation').disabled = true;
    }
}

// Websocket to check if all players are ready
function liveRecv(data) {
    if (data === 'all_ready') {
        sessionStorage.setItem('IsClicked', 'false')
        document.forms[0].submit();
    }
}
</script>
{{ endblock }}