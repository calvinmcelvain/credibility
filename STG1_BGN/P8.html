{{ load static }}
{{ block content }}
<!--External CSS & js-->
<link rel="stylesheet" href="{{ static 'Style_Crd2.css' }}" type="text/css">
<script src="{{ static 'JavaScript_Crd2.js' }}"></script>

<!-- Title -->
<span class="sample" >**Sample**</span>
<h2 class="Title">Round X</h2>
<h3>You are Player A</h3>


<!--Payoff Tables-->
<div class="tables-container">
    <div>
        <p class="payofftableheader">Your Payoff Table</p>
        <table class="playerpayofftable" style="display: flex; margin: unset">
            <tr>
                <td style="width: 75px;"></td>
                <td class="header" colspan="6">Total Investors</td>
            </tr>
            <tr>
                <td  style="font-style: italic; width: 75px;">Quality</td>
                <td class="row1">0</td>
                <td class="row1">1</td>
                <td class="row1">2</td>
                <td class="row1">3</td>
                <td class="row1">4</td>
                <td class="row1">5</td>
            </tr>
            <tr>
                <td class="column1">Low</td>
                <td>12</td>
                <td>3</td>
                <td>3</td>
                <td>3</td>
                <td>3</td>
                <td>3</td>
            </tr>
            <tr>
                <td class="column1">Medium</td>
                <td>6</td>
                <td>6</td>
                <td>6</td>
                <td>6</td>
                <td>6</td>
                <td>12</td>
            </tr>
            <tr>
                <td class="column1">High</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>0</td>
                <td>30</td>
            </tr>
        </table>
    </div>
    <div style="margin: 20px"></div>
    <div>
        <p class="payofftableheader">Player Bs Payoff Table</p>
        <table class="playerpayofftable" style="display: flex; margin: unset">
            <tr>
                <td style="width: 75px;"></td>
                <td class="header" colspan="5">Total Investors</td>
            </tr>
            <tr>
                <td style="font-style: italic; width: 75px;">Quality</td>
                <td class="row1">1</td>
                <td class="row1">2</td>
                <td class="row1">3</td>
                <td class="row1">4</td>
                <td class="row1">5</td>
            </tr>
            <tr>
                <td class="column1">Low</td>
                <td>0</td>
                <td>1</td>
                <td>2</td>
                <td>3</td>
                <td>4</td>
            </tr>
            <tr>
                <td class="column1">Medium</td>
                <td>1</td>
                <td>3</td>
                <td>5</td>
                <td>7</td>
                <td>9</td>
            </tr>
            <tr>
                <td class="column1">High</td>
                <td>2</td>
                <td>4</td>
                <td>8</td>
                <td>14</td>
                <td>22</td>
            </tr>
        </table>
    </div>
</div>

<!--Form Fields/Decisions-->
<h4>Remember, Player Bs who choose not invest will receive a payoff of 12 ECUs</h4>
<h5>*** You will see the estimated signal for this round marked in <span>yellow</span> after you choose what advice to give below ***</h5>
<table class="decisiontable">
    <tr>
        <th>Investment Quality:</th>
        <th rowspan="9" width="150px"></th>
        <th style="width: 120px">Advice:</th>
    </tr>
    <tr>
        <td class="header_" rowspan="2">Low</td>
        <td><input type="radio" name="low"> Invest</td>
    </tr>
    <tr>
        <td><input type="radio" name="low"> Don't Invest</td>
    </tr>
    <tr><td colspan="2" height="30px"></td></tr>
    <tr>
        <td class="header_" rowspan="2">Medium</td>
        <td><input type="radio" name="med"> Invest</td>
    </tr>
    <tr>
        <td><input type="radio" name="med"> Don't Invest</td>
    </tr>
    <tr><td colspan="2" height="30px"></td></tr>
    <tr>
        <td class="header_" rowspan="2">High</td>
        <td><input type="radio" name="high"> Invest</td>
    </tr>
    <tr>
        <td><input type="radio" name="high"> Don't Invest</td>
    </tr>
</table>

<!--Next Button: Only allows players to continue if all players in session are ready/clicked continue-->
<button type="button" id="validation" onclick="validating_sample()">Continue</button>

<script>
// Checking if button has been clicked
window.onload = function () {
    const IsClicked = sessionStorage.getItem('IsClicked');

    if (IsClicked === 'true') {
        document.getElementById('validation').disabled = true;
        document.querySelectorAll('input[type=radio]').forEach(function (radioButton) {
            radioButton.disabled = true
        });
    }
}

// Websocket to check if all players are ready
function liveRecv(data) {
    if (data === 'all_ready') {
        sessionStorage.setItem('IsClicked', 'false')
        document.forms[0].submit();
    }
}
</script>

{{ endblock }}