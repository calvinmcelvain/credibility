{{ load static }}
{{ block content }}
<!--External CSS & js-->
<link rel="stylesheet" href="{{ static 'Style_Crd2.css' }}" type="text/css">
<script src="{{ static 'JavaScript_Crd2.js' }}"></script>

{{ block title }}
Description of Investor Payoffs (Cont.)
{{ endblock }}

<!--Description Body-->
<p>When you make your decision in each round, you will see the payoff table below showing your payoffs if you invest, for each possible combination of <i>Quality</i> (given by the row) and <i>Total Investors</i> (given by the column), the total number of group members that invest <i>including you.</i></p>

<!--Payoff Table-->
<div class="margin"></div>
<table class="playerpayofftable">
    <tr>
        <td style="width: 75px;"></td>
        <td class="header" colspan="5">Total Investors (including you)</td>
    </tr>
    <tr>
        <td style="font-style: italic; width: 75px;">Quality</td>
        <td class="row1">1</td>
        <td class="row1">2</td>
        <td class="row1">3</td>
        <td class="row1">4</td>
        <td class="row1">5</td>
    </tr>
    <tr>
        <td class="column1">Low</td>
        {{ for p in pb_table.1 }}
        <td>{{ p }}</td>
        {{ endfor }}
    </tr>
    <tr>
        <td class="column1">Medium</td>
        {{ for p in pb_table.2 }}
        <td>{{ p }}</td>
        {{ endfor }}
    </tr>
    <tr>
        <td class="column1">High</td>
        {{ for p in pb_table.3 }}
        <td>{{ p }}</td>
        {{ endfor }}
    </tr>
</table>

<!-- Description Body Cont.-->
<p style="margin-top: 100px">Remember that if you keep your endowment, you will earn 12 ECU regardless of the quality of the investment opportunity.</p>
<p>Please look at an overhead screen as we go through some examples on how to read the <i>Investor</i> payoff tables.</p>


<!--Next Button: Only allows players to continue if all players in session are ready/clicked continue-->
<div style="margin-top: 50px;">
    <div style="float: left">
        <p style="margin-top: unset; margin-bottom: unset;">Please click "Continue"</p>
        <p style="font-size: 16px; margin-top: unset; margin-bottom: 10px;" >*** Page will not continue until everyone has clicked continue ***</p>
    </div>
    <button type="button" id="validation" class="Instructions" onclick="validating()" style="float: right">Continue</button>
</div>

<script>
// Checking if button has been clicked
window.onload = function () {
    const IsClicked = sessionStorage.getItem('IsClicked');

    if (IsClicked === 'true') {
        document.getElementById('validation').disabled = true;
    }
}

// Websocket to check if all players are ready
function liveRecv(data) {
    if (data === 'all_ready') {
        sessionStorage.setItem('IsClicked', 'false')
        document.forms[0].submit();
    }
}
</script>

{{ endblock }}